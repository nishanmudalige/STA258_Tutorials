{
  "hash": "3425960f80dec1c7ff9215064c3ef9a6",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: \"Tutorial 01\"\nformat: live-html\nengine: knitr\n# prevent any project filters from interfering\nfilters: []\n---\n\n\n::: {.cell}\n\n:::\n\n\n\n::: {.cell edit='false'}\n```{webr}\n#| edit: false\n#| output: false\nwebr::install(\"gradethis\", quiet = TRUE)\nlibrary(gradethis)\noptions(webr.exercise.checker = function(\n  label, user_code, solution_code, check_code, envir_result, evaluate_result,\n  envir_prep, last_value, engine, stage, ...\n) {\n  if (is.null(check_code)) {\n    # No grading code, so just skip grading\n    invisible(NULL)\n  } else if (is.null(label)) {\n    list(\n      correct = FALSE,\n      type = \"warning\",\n      message = \"All exercises must have a label.\"\n    )\n  } else if (is.null(solution_code)) {\n    list(\n      correct = FALSE,\n      type = \"warning\",\n      message = htmltools::tags$div(\n        htmltools::tags$p(\"A problem occurred grading this exercise.\"),\n        htmltools::tags$p(\n          \"No solution code was found. Note that grading exercises using the \",\n          htmltools::tags$code(\"gradethis\"),\n          \"package requires a model solution to be included in the document.\"\n        )\n      )\n    )\n  } else {\n    gradethis::gradethis_exercise_checker(\n      label = label, solution_code = solution_code, user_code = user_code,\n      check_code = check_code, envir_result = envir_result,\n      evaluate_result = evaluate_result, envir_prep = envir_prep,\n      last_value = last_value, stage = stage, engine = engine)\n  }\n})\n```\n:::\n\n\n\n## Q1 — Make the sum equal 10\n\nReplace `BLANK` with a number so the expression evaluates to **10**.\n\n\n::: {.cell setup='true' exercise='ex_sum'}\n```{webr}\n#| setup: true\n#| exercise: ex_sum\n# soft blank so it parses before students edit\nBLANK <- NA_real_\n```\n:::\n\n\n\n::: {.cell exercise='ex_sum'}\n```{webr}\n#| exercise: ex_sum\n1 + 2 + BLANK + BLANK\n```\n:::\n\n\n::: {.hint exercise=\"ex_sum\"}\nReplace the two BLANKS with 2 numbers that add up to 7.\n:::\n\n::: {.solution exercise=\"ex_sum\"}\n\n::: {.cell exercise='ex_sum' solution='true'}\n```{webr}\n#| exercise: ex_sum\n#| solution: true\n1 + 2 + 3 + 4\n```\n:::\n\n:::\n\n\n::: {.cell exercise='ex_sum' check='true'}\n```{webr}\n#| exercise: ex_sum\n#| check: true\ngradethis::grade_this({\n  if (grepl(\"\\\\bBLANK\\\\b\", .user_code)) {\n    fail(\"Replace BLANK with a number.\")\n  }\n  # Pass if the evaluated result is (numerically) 10\n  if (is.numeric(.result) && length(.result) == 1 &&\n      isTRUE(all.equal(.result, 10))) {\n    pass(\"✅ Correct!\")\n  } else {\n    fail(\"Not quite — try to make the expression evaluate to 10.\")\n  }\n})\n```\n:::\n\n\n## Q3 — Draw a histogram from `cars` (type the full call)\n\nType **exactly one** of these and nothing else:  \n`hist(cars$dist)`  **or**  `hist(cars$speed)`\n\n\n::: {.cell exercise='ex_hist_exact'}\n```{webr}\n#| exercise: ex_hist_exact\n# Type your answer on the next line (one command only):\n# hist(cars$dist)\n```\n:::\n\n\n::: {.solution exercise=\"ex_hist_exact\"}\n\n::: {.cell exercise='ex_hist_exact' solution='true'}\n```{webr}\n#| exercise: ex_hist_exact\n#| solution: true\nhist(cars$dist)\n```\n:::\n\n:::\n\n\n::: {.cell exercise='ex_hist_exact' check='true'}\n```{webr}\n#| exercise: ex_hist_exact\n#| check: true\ngradethis::grade_this({\n  # Grab what they typed (keep it robust)\n  code <- .user_code\n  lines <- strsplit(code, \"\\n\", fixed = TRUE)[[1]]\n  # strip comments per-line, then trim and drop empties\n  lines <- sub(\"#.*$\", \"\", lines)\n  trim  <- function(s) sub(\"^\\\\s+|\\\\s+$\", \"\", s)\n  lines <- trim(lines)\n  lines <- lines[nzchar(lines)]\n\n  if (length(lines) == 0) {\n    fail(\"Type your answer: hist(cars$dist) or hist(cars$speed).\")\n  }\n  if (length(lines) > 1) {\n    fail(\"Enter exactly **one** command.\")\n  }\n\n  one <- lines[1]\n  # Did it actually draw a histogram?\n  if (!inherits(.result, \"histogram\")) {\n    fail(\"Your code should draw a histogram.\")\n  }\n\n  # Normalize spaces for exact-match check\n  normalized <- gsub(\"\\\\s+\", \"\", one)\n\n  if (normalized %in% c(\"hist(cars$dist)\", \"hist(cars$speed)\")) {\n    pass(\"✅ Correct!\")\n  } else if (grepl(\"^hist\\\\s*\\\\(\\\\s*cars\\\\s*\\\\)\\\\s*$\", one)) {\n    fail(\"`hist(cars)` won’t work—choose a numeric column: hist(cars$dist) or hist(cars$speed).\")\n  } else if (grepl(\"^hist\\\\s*\\\\(\", one)) {\n    fail(\"For this question, type exactly `hist(cars$dist)` or `hist(cars$speed)` (and nothing else).\")\n  } else {\n    fail(\"Use `hist(...)` with a column from `cars`.\")\n  }\n})\n```\n:::\n\n",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}